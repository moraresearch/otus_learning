08:42 mora@station~/git/otus_learning/sixteen# vagrant up client 
Bringing machine 'client' up with 'virtualbox' provider...
==> client: Importing base box 'centos/7'...
==> client: Matching MAC address for NAT networking...
==> client: Checking if box 'centos/7' version '1905.1' is up to date...
==> client: Setting the name of the VM: sixteen_client_1589348579439_5421
==> client: Fixed port collision for 22 => 2222. Now on port 2200.
==> client: Clearing any previously set network interfaces...
==> client: Preparing network interfaces based on configuration...
    client: Adapter 1: nat
    client: Adapter 2: hostonly
==> client: Forwarding ports...
    client: 22 (guest) => 2200 (host) (adapter 1)
==> client: Running 'pre-boot' VM customizations...
==> client: Booting VM...
==> client: Waiting for machine to boot. This may take a few minutes...
    client: SSH address: 127.0.0.1:2200
    client: SSH username: vagrant
    client: SSH auth method: private key
    client: 
    client: Vagrant insecure key detected. Vagrant will automatically replace
    client: this with a newly generated keypair for better security.
    client: 
    client: Inserting generated public key within guest...
    client: Removing insecure key from the guest if it's present...
    client: Key inserted! Disconnecting and reconnecting using new SSH key...
==> client: Machine booted and ready!
==> client: Checking for guest additions in VM...
    client: No guest additions were detected on the base box for this VM! Guest
    client: additions are required for forwarded ports, shared folders, host only
    client: networking, and more. If SSH fails on this machine, please install
    client: the guest additions and repackage the box to continue.
    client: 
    client: This is not an error message; everything may continue to work properly,
    client: in which case you may ignore this message.
==> client: Setting hostname...
==> client: Configuring and enabling network interfaces...
==> client: Rsyncing folder: /home/mora/git/otus_learning/sixteen/ => /vagrant
==> client: Running provisioner: shell...
    client: Running: inline script
==> client: Running provisioner: shell...
    client: Running: inline script
    client: Loaded plugins: fastestmirror
    client: Determining fastest mirrors
    client:  * base: mirror.imt-systems.com
    client:  * extras: ftp.plusline.net
    client:  * updates: mirror.23media.com
    client: Resolving Dependencies
    client: --> Running transaction check
    client: ---> Package epel-release.noarch 0:7-11 will be installed
    client: --> Finished Dependency Resolution
    client: 
    client: Dependencies Resolved
    client: 
    client: ================================================================================
    client:  Package                Arch             Version         Repository        Size
    client: ================================================================================
    client: Installing:
    client:  epel-release           noarch           7-11            extras            15 k
    client: 
    client: Transaction Summary
    client: ================================================================================
    client: Install  1 Package
    client: 
    client: Total download size: 15 k
    client: Installed size: 24 k
    client: Downloading packages:
    client: warning: /var/cache/yum/x86_64/7/extras/packages/epel-release-7-11.noarch.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY
    client: Public key for epel-release-7-11.noarch.rpm is not installed
    client: Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
    client: Importing GPG key 0xF4A80EB5:
    client:  Userid     : "CentOS-7 Key (CentOS 7 Official Signing Key) <security@centos.org>"
    client:  Fingerprint: 6341 ab27 53d7 8a78 a7c2 7bb1 24c6 a8a7 f4a8 0eb5
    client:  Package    : centos-release-7-6.1810.2.el7.centos.x86_64 (@anaconda)
    client:  From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
    client: Running transaction check
    client: Running transaction test
    client: Transaction test succeeded
    client: Running transaction
    client:   Installing : epel-release-7-11.noarch                                     1/1
    client:  
    client:   Verifying  : epel-release-7-11.noarch                                     1/1
    client:  
    client: 
    client: Installed:
    client:   epel-release.noarch 0:7-11                                                    
    client: Complete!
    client: Loaded plugins: fastestmirror
    client: Loading mirror speeds from cached hostfile
    client:  * base: mirror.imt-systems.com
    client:  * epel: mirror.23media.com
    client:  * extras: ftp.plusline.net
    client:  * updates: mirror.23media.com
    client: Resolving Dependencies
    client: --> Running transaction check
    client: ---> Package python3.x86_64 0:3.6.8-13.el7 will be installed
    client: --> Processing Dependency: python3-libs(x86-64) = 3.6.8-13.el7 for package: python3-3.6.8-13.el7.x86_64
    client: --> Processing Dependency: python3-setuptools for package: python3-3.6.8-13.el7.x86_64
    client: --> Processing Dependency: python3-pip for package: python3-3.6.8-13.el7.x86_64
    client: --> Processing Dependency: libpython3.6m.so.1.0()(64bit) for package: python3-3.6.8-13.el7.x86_64
    client: ---> Package sudo.x86_64 0:1.8.23-3.el7 will be updated
    client: ---> Package sudo.x86_64 0:1.8.23-9.el7 will be an update
    client: --> Running transaction check
    client: ---> Package python3-libs.x86_64 0:3.6.8-13.el7 will be installed
    client: ---> Package python3-pip.noarch 0:9.0.3-7.el7_7 will be installed
    client: ---> Package python3-setuptools.noarch 0:39.2.0-10.el7 will be installed
    client: --> Finished Dependency Resolution
    client: 
    client: Dependencies Resolved
    client: 
    client: ================================================================================
    client:  Package                  Arch         Version              Repository     Size
    client: ================================================================================
    client: Installing:
    client:  python3                  x86_64       3.6.8-13.el7         base           69 k
    client: Updating:
    client:  sudo                     x86_64       1.8.23-9.el7         base          842 k
    client: Installing for dependencies:
    client:  python3-libs             x86_64       3.6.8-13.el7         base          7.0 M
    client:  python3-pip              noarch       9.0.3-7.el7_7        updates       1.8 M
    client:  python3-setuptools       noarch       39.2.0-10.el7        base          629 k
    client: 
    client: Transaction Summary
    client: ================================================================================
    client: Install  1 Package (+3 Dependent packages)
    client: Upgrade  1 Package
    client: Total download size: 10 M
    client: Downloading packages:
    client: No Presto metadata available for base
    client: --------------------------------------------------------------------------------
    client: Total                                              4.5 MB/s |  10 MB  00:02     
    client: Running transaction check
    client: Running transaction test
    client: Transaction test succeeded
    client: Running transaction
    client:   Installing : python3-pip-9.0.3-7.el7_7.noarch                             1/6
    client:  
    client:   Installing : python3-setuptools-39.2.0-10.el7.noarch                      2/6
    client:  
    client:   Installing : python3-libs-3.6.8-13.el7.x86_64                             3/6
    client:  
    client:   Installing : python3-3.6.8-13.el7.x86_64                                  4/6
    client:  
    client:   Updating   : sudo-1.8.23-9.el7.x86_64                                     5/6
    client:  
    client:   Cleanup    : sudo-1.8.23-3.el7.x86_64                                     6/6
    client:  
    client:   Verifying  : sudo-1.8.23-9.el7.x86_64                                     1/6
    client:  
    client:   Verifying  : python3-3.6.8-13.el7.x86_64                                  2/6
    client:  
    client:   Verifying  : python3-pip-9.0.3-7.el7_7.noarch                             3/6
    client:  
    client:   Verifying  : python3-setuptools-39.2.0-10.el7.noarch                      4/6
    client:  
    client:   Verifying  : python3-libs-3.6.8-13.el7.x86_64                             5/6
    client:  
    client:   Verifying  : sudo-1.8.23-3.el7.x86_64                                     6/6
    client:  
    client: 
    client: Installed:
    client:   python3.x86_64 0:3.6.8-13.el7                                                 
    client: 
    client: Dependency Installed:
    client:   python3-libs.x86_64 0:3.6.8-13.el7         python3-pip.noarch 0:9.0.3-7.el7_7 
    client:   python3-setuptools.noarch 0:39.2.0-10.el7 
    client: 
    client: Updated:
    client:   sudo.x86_64 0:1.8.23-9.el7                                                    
    client: Complete!
08:43 mora@station~/git/otus_learning/sixteen# ansible client -m ping 
client | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python"
    }, 
    "changed": false, 
    "ping": "pong"
}
08:44 mora@station~/git/otus_learning/sixteen# ansible-playbook ./play 

PLAY [FreeIPA install] ***********************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ***********************************************************************************************************************************************************************************************************************
ok: [client]

TASK [Set hostname] **************************************************************************************************************************************************************************************************************************
changed: [client]

TASK [Config hosts] **************************************************************************************************************************************************************************************************************************
changed: [client] => (item=192.168.11.102 client.example.server ipaclient)
changed: [client] => (item=192.168.11.101 ipa.example.server example.server ipaserver)

TASK [Install epel-release] ******************************************************************************************************************************************************************************************************************
ok: [client]

TASK [Install freeipa-client] ****************************************************************************************************************************************************************************************************************
changed: [client]

TASK [set ipa-client] ************************************************************************************************************************************************************************************************************************
changed: [client]

PLAY RECAP ***********************************************************************************************************************************************************************************************************************************
client                     : ok=6    changed=4    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

