Director {                            # define myself
  Name = bacula-dir
  DIRport = 9101                # where we listen for UA connections
  QueryFile = "/etc/bacula/query.sql"
  WorkingDirectory = "/var/spool/bacula"
  PidDirectory = "/var/run"
  Password = "password"         # Console password
  Messages = Daemon
  DirAddress = 192.168.11.151
}
Messages {
Name = Daemon
mailcommand = "/usr/lib/bacula/bsmtp -h localhost -f \"\(Bacula\) \<%r\>\" -s \"Bacula daemon message\" %r"
mail = mora@research.ru.com = all, !skipped
console = all, !skipped, !saved
append = "/var/lib/bacula/log" = all, !skipped
}
FileSet {
  Name = "default"
  Include {
    Options {
      signature = MD5
      compression = GZIP
    }    
File = /
}
  Exclude {
    File = /var/lib/bacula
    File = /proc
    File = /tmp
    File = /.journal
    File = /.fsck
    File = /bacula
  }
}
# Generic catalog service
Catalog {
  Name = MyCatalog
# Uncomment the following line if you want the dbi driver
# dbdriver = "dbi:postgresql"; dbaddress = 127.0.0.1; dbport =
  dbname = "bacula"; dbuser = "bacula"; dbpassword = "password"
}
Pool {
  Name = mainpool
  Pool Type = Backup
  Recycle = yes                       # Bacula can automatically recycle Volumes
  AutoPrune = yes                     # Prune expired volumes
  Volume Retention = 365 days         # one year
  Maximum Volume Bytes = 50G          # Limit Volume size to something reasonable
  Maximum Volumes = 100               # Limit number of Volumes in Pool
}
Storage { 
Name = backups 
Address = 127.0.0.1
SDPort = 9103 
Password = "password" 
Device = FileStorage
Media Type = File
}
Schedule {
Name = "WeeklyDiff"
Run = Level=Full on mon at 01:01
Run = Level=Differential on tue-sun at 02:02
}
Schedule {
Name = "WeeklyFull"
Run = Level=Full on mon-sun at 08:40
} 
Job {
Name = client-job #Имя задания
Type = Backup #Тип работы(создание бекапа)
Level = Full #Уровень бекапа
Client=client-fd #Клиент на котором будет производиться бекап
FileSet=default #Где описано как и какие файлы будем сохранять
Storage = backups #Куда будем «сливать» бекап
Pool = mainpool #Определяем с каким «пулом»(как) будем работать
Messages = Daemon #Как отрапортовать о проделанной работе
Schedule = "WeeklyDiff" #По какому расписанию делать бекапы
}
Job {
Name = client-restore
Type = Restore 
Client=client-fd
FileSet=default
Storage = backups 
Pool = mainpool
Messages = Daemon 
Where = /
} 
 
Client {
Name = client-fd
Address = 192.168.11.150
FDPort = 9102
Catalog = MyCatalog
Password = bacula 
File Retention = 28 days #Сколько сохранять метаданные о сохраненных файлах для 
#данного клиента
Job Retention = 28 days #Сколько сохранять метаданные касательно заданий для данного #клиента
AutoPrune = yes #Может ли бакула очищать метаданные 
}

